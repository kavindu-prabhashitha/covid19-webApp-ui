<div class="p-5">
  <app-navbar></app-navbar>
  <div class="flex items-center justify-center mt-4">
    <input type="text" name="countryName" placeholder="Country Name"
      class="border-blue-500 border-2 rounded-md w-1/4 hover:border-green-500" [(ngModel)]="countryName">
    <input type="text" name="cregionName" placeholder="Region Name"
      class="border-blue-500 border-2 rounded-md w-1/4 hover:border-green-500 ms-1" [(ngModel)]="regionName">
    <button type="button" class="bg-blue-600 text-white rounded-md pl-2 pr-2 ml-2 hover:bg-blue-900"
      (click)="getCovidData()">Get Info</button>
  </div>
  <div>
    <div class="flex justify-center" *ngIf="isLoading">
      <img src="assets/images/loading.gif" height="200px" width="200px" alt="">
    </div>


    <div class="relative overflow-x-auto mt-4">
      <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400" *ngIf="!isLoading">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
            <th scope="col" class="px-6 py-3">
              Country
            </th>
            <th scope="col" class="px-6 py-3">
              Region
            </th>
            <th scope="col" class="px-6 py-3">
              Date
            </th>
            <th scope="col" class="px-6 py-3">
              New Cases
            </th>
            <th scope="col" class="px-6 py-3">
              Total
            </th>
          </tr>
        </thead>
        <tbody *ngIf="covidCountryCases.length === 0">
    
          
          <tr >
            <td class="px-6 py-4"></td>
            <td class="px-6 py-4"></td>
            <td class="px-6 py-4">            <div class="flex justify-center items-center p-10">
              <img src="assets/images/search.png" height="150px" width="150px" alt="" srcset="">
              <p>Nothing to view</p>
              <p>Search !</p>
            </div></td>
            <td class="px-6 py-4"></td>
            <td class="px-6 py-4"></td>

          </tr>

  
        
        </tbody>
        <tbody *ngFor="let covid_case of covidCountryCases.slice(0,15)">
          <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                {{covid_case.country}}
            </th>
            <td class="px-6 py-4">
                {{covid_case.region}}
            </td>
            <td class="px-6 py-4">
               
            </td>
            <td class="px-6 py-4">
               
            </td>
            <td class="px-6 py-4">
              
          </td>
        </tr>
        <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700" *ngFor="let case of covid_case.cases| keys">
          <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
            {{covid_case.country}}
          </th>
          <td class="px-6 py-4">
            {{covid_case.region}}
          </td>
          <td class="px-6 py-4">
              {{case | date}}
          </td>
          <td class="px-6 py-4">
              <span class="bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300">
                {{covid_case.cases[case]["new"]}}
              </span>
          </td>
          <td class="px-6 py-4">
            <span class="bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300">
              {{covid_case.cases[case]["total"]}}
            </span>
        
        </td>
      </tr>


        </tbody>
     
      </table>
    </div>

  </div>
</div>